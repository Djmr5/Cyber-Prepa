{% extends 'layout/base.html' %}
{% load static %}

{% block title %}
Index
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'vendor/bootstrap-5.2.3-dist/css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'vendor/fontawesome-free-6.4.2-web/css/all.min.css' %}">
<link rel="stylesheet" href="{% static 'vendor/DataTables/datatables.min.css' %}">
{% endblock %}

{% block content %}

<div class="cyber__wrapper">

  <!-- CSRF Token created to be used by forms -->
  {% csrf_token %}

  <div class="cyber__cards" id="cyberCards">

    <!-- Cyber game cards will be inserted here through JS -->
    <!-- Be aware that all content inside this div will be deleted periodically -->

  </div>

  <!-- modal: Change the user play -->
  <!-- <div id="confirmation_modal" class="change_play_modal">
        <div class="modal-content">
            <span>Estás seguro que quieres cambiar al usuario X del juego Y al juego Z</span>
            <div class="buttons-container">
                <button class="confirmation-button">Confirmar</button>
                <button class="reject-button">Cancelar</button>
            </div>
        </div>
    </div> -->

  <!-- Modal for add/edit -->
  <div class="modal fade" id="changeUserPlayModal" tabindex="-1" aria-labelledby="changeUserPlayModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Estás cambiando a un usuario de juego</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="name" class="col-form-label">ID Usuario:</label>
            <input type="text" class="form-control" id="id_usuario" name="id_usuario" disabled>
          </div>
          <div class="mb-3">
            <label for="name" class="col-form-label">Play actual:</label>
            <input type="text" class="form-control" id="actual_play" name="actual_play" required disabled>

            <label for="name" class="col-form-label">Play nuevo:</label>
            <input type="text" class="form-control" id="nuevo_play" name="nuevo_play" required disabled>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary btn-green" id="confirmPlayChange">Confirmar</button>
          <button type="button" class="btn btn-primary btn-red" id="rejectPlayChange">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
  <!-- End of modal for add/edit -->
</div>

<div id="success-alert" class="alert alert-success d-none" role="alert">
  <!-- Succesfull messages will be inserted here -->
</div>

<div id="error-alert" class="alert alert-danger d-none" role="alert">
  <!-- Error messages will be inserted here -->
</div>

<!-- modal: add user to sanctions -->
<div class="modal fade" id="modalSanciones" tabindex="-1" aria-labelledby="modalSancionesLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalSancionesLabel">Nueva sanción</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="matriculaSancion" class="col-form-label">Matrícula:</label>
            <input type="text" class="form-control" id="matriculaSancion">
          </div>
          <div class="mb-3">
            <label for="causaSancion" class="col-form-label">Causa:</label>
            <textarea class="form-control" id="causaSancion"></textarea>
          </div>
          <div class="mb-3">
            <label for="diasSancion" class="col-form-label">Fin de la sancion:</label>
            <input type="date" id="diasSancion" name="diasSancion">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="sancionarBtn" data-bs-dismiss="modal">Sancionar</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<!-- Added Popper through CDN -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
  integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="{% static 'vendor/bootstrap-5.2.3-dist/js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/cards.js' %}"></script>
{% if user.is_authenticated %}
<script src="{% static 'js/auth_cards.js' %}"></script>
<script src="{% static 'js/scroll_left_right.js' %}"></script>
<script src="{% static 'js/drag_drop.js' %}"></script>
<script src="{% static 'js/sanction_modal.js' %}"></script>
<script src="{% static 'js/sanctions.js' %}"></script>
{% endif %}
{% endblock %}